# Exclusive Accordion

“Exclusive Accordion”（独占式手风琴）是一种用户界面（UI）模式，指的是**一次只能打开一个面板的手风琴组件**。

-----

## 简介

### 什么是手风琴（Accordion）？

在 Web 开发中，“手风琴”是一种常用的组件，它由一组可折叠/展开的面板组成。当用户点击某个面板的标题时，其内容区域就会显示或隐藏。

手风琴组件的主要作用是：

* **节省空间**：将大量内容隐藏起来，只显示标题，保持界面的整洁。
* **分块显示内容**：将相关联的内容分组，方便用户按需查看。

-----

### Exclusive Accordion 的特点

“独占式”是这种模式的核心特点。这意味着：

* **当一个面板被打开时，其他所有打开的面板会自动关闭。**
* 在任何时候，手风琴中最多只有一个面板处于展开状态。
* 它可以从一个无面板展开的状态开始，也可以从一个默认展开某个面板的状态开始。

### 为什么选择 Exclusive Accordion？

这种模式在以下场景中特别有用：

1. **引导用户按顺序查看信息**：例如，在分步表单或向导中，每个步骤都对应一个面板，用户完成一个步骤后，会自动跳转到下一个，同时关闭上一个。
2. **避免信息过载**：当手风琴中的内容都很重要，但同时查看会使用户分心时，独占模式可以强制用户一次只专注于一个主题。
3. **节省垂直空间**：当手风琴位于一个窄小的容器中，或者需要避免页面过度滚动时，独占模式可以确保只有一个面板的高度占用屏幕空间。

## 新 Web 标准对 Exclusive Accordion 的支持

新的 Web 标准指的是 HTML 中一个正在被广泛支持的新特性，它让实现独占式手风琴变得非常简单。

这个新标准通过给 **`<details>` 元素添加 `name` 属性**来实现。

### `<details>` 和 `<summary>`

首先，我们需要了解 HTML 原生的 `<details>` 和 `<summary>` 元素。

* **`<details>`** 元素代表一个“可披露的区块”，用户可以点击它来展开或折叠其中的内容。
* **`<summary>`** 元素通常作为 `<details>` 的第一个子元素，它提供了一个可见的标题或摘要，用户点击这个摘要就能切换 `<details>` 的状态。

<!-- end list -->

```html
<details>
  <summary>这是第一个手风琴标题</summary>
  <p>这是第一个手风琴的内容。</p>
</details>

<details>
  <summary>这是第二个手风琴标题</summary>
  <p>这是第二个手风琴的内容。</p>
</details>
```

在以前，这样的代码会创建两个独立的手风琴，你可以同时打开它们。

-----

### `name` 属性：实现独占式手风琴

现在，你可以给 `<details>` 元素添加一个 `name` 属性，并且给同一组的手风琴赋予相同的 `name` 值。浏览器会识别这个 `name`，并自动实现“独占式”的行为。

```html
<details name="my-accordion">
  <summary>这是第一个手风琴标题</summary>
  <p>这是第一个手风琴的内容。</p>
</details>

<details name="my-accordion">
  <summary>这是第二个手风琴标题</summary>
  <p>这是第二个手风琴的内容。</p>
</details>

<details name="my-accordion">
  <summary>这是第三个手风琴标题</summary>
  <p>这是第三个手风琴的内容。</p>
</details>
```

当你点击其中一个 `<summary>` 来展开对应的 `<details>` 时，浏览器会自动将同组中其他所有打开的 `<details>` 关闭。

### 为什么这个新标准很重要？

1. **无需 JavaScript**：你不需要再编写任何 JavaScript 代码来管理手风琴的展开和折叠状态，大大减少了代码量和复杂性。
2. **更好的可访问性**：原生 HTML 元素自带了对屏幕阅读器和键盘操作的良好支持，这比手动用 `div` 和 `button` 组合并添加 ARIA 属性要简单且更可靠。
3. **性能更优**：由于是浏览器原生实现，它的性能通常比用 JavaScript 模拟的效果更好。
4. **语义化**：使用 `<details>` 元素清晰地表达了内容的结构，有助于搜索引擎和无障碍设备更好地理解页面。

### 浏览器支持情况

这个特性正在被主流浏览器逐步支持。如果你在现代浏览器（如 Chrome、Firefox、Edge 等）中使用，它已经可以正常工作。不过，在将此特性用于生产环境之前，你可能需要检查目标用户的浏览器支持情况。

总之，通过给 `<details>` 元素添加 `name` 属性，我们现在可以仅用 HTML 就能创建符合新标准的、完全可访问的独占式手风琴，这无疑是 Web 开发的一大进步。
